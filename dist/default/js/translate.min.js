/*! portal-theme v1.1.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/mashery/portal-theme-starter-kit */
!(function(t,e){"function"==typeof define&&define.amd?define([],(function(){return e(t)})):"object"==typeof exports?module.exports=e(t):t.Translate=e(t)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(i){"use strict";var e={default:null,activeClass:"active",langBlockSelector:".translate",langBlockPrefix:".translate-",contentSelectors:null,initClass:"js-translate",dictionary:[]},u=function(){var n={},a=!1,t=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(a=arguments[0],t++);for(var e=function(t){for(var e in t)t.hasOwnProperty(e)&&(a&&"[object Object]"===Object.prototype.toString.call(t[e])?n[e]=u(n[e],t[e]):n[e]=t[e])};t<arguments.length;t++){e(arguments[t])}return n},s=function(t){var e=[];for(t=t.firstChild;t;t=t.nextSibling)3!==t.nodeType||t.parentElement.matches("script, [data-translate]")?e=e.concat(s(t)):e.push(t);return e};return function(t){var r,o,a={};a.updateOptions=function(t){r=u(e,t||{})},a.saveLang=function(t){localStorage.setItem("translateLang",t)},a.getSavedLang=function(){return localStorage.getItem("translateLang")},a.removeSavedLang=function(){localStorage.removeItem("translateLang")},a.setCurrentLang=function(t){if(!t){if(r.dictionary.length<1)return;for(var e=0;e<r.dictionary.length;e++){for(var n in r.dictionary[e]){t=n;break}break}r.default=t}o=t,a.saveLang(t)},a.toggleLangBlock=function(t){document.querySelectorAll(r.langBlockSelector+"."+r.activeClass).forEach((function(t){t.classList.remove(r.activeClass)})),document.querySelectorAll(r.langBlockPrefix+t).forEach((function(t){t.classList.add(r.activeClass)}))},a.translateContent=function(t,n){if(!(r.dictionary.length<1)){t="string"==typeof t?document.querySelector(t):t;var a=s(t);a.length<1||r.dictionary.forEach((function(e){e[n]&&e[o]&&a.filter((function(t){return t.textContent.trim()===e[o].trim()})).forEach((function(t){t.textContent=e[n]}))}))}};a.activateToggle=function(t,e){document.querySelectorAll('[data-translate="'+o+'"].'+r.activeClass).forEach((function(t){t.classList.remove(r.activeClass)})),e&&e.classList.add(r.activeClass)},a.run=function(t,e){var n;a.activateToggle(t,e),t!==o&&(a.toggleLangBlock(t),n=t,r.contentSelectors&&document.querySelectorAll(r.contentSelectors).forEach((function(t){a.translateContent(t,n)})),a.setCurrentLang(t))};var c=function(t){var e=t.target.getAttribute("data-translate");e&&(t.preventDefault(),a.run(e,t.target))},l=function(){a.run(o,document.querySelector('[data-translate="'+o+'"]'))};return a.destroy=function(){r&&(a.run(r.default,document.querySelector('[data-translate="'+r.default+'"]')),document.removeEventListener("click",c,!1),i.removeEventListener("portalAfterRenderAjax",l,!1),a.removeSavedLang(),document.documentElement.classList.remove(r.initClass),r=null)},a.init=function(t){a.updateOptions(t),document.documentElement.classList.add(r.initClass);var e=a.getSavedLang();a.setCurrentLang(r.default);var n=e||o;a.run(n,document.querySelector('[data-translate="'+n+'"]')),document.addEventListener("click",c,!1),i.addEventListener("portalAfterRenderAjax",l,!1)},a.init(t),a}}));