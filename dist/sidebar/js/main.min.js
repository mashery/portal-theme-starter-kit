/*! portal-theme v2.0.0 | (c) 2022 TIBCO | All Rights Reserved | http://github.com/mashery/portal-theme-starter-kit */
!function(){"use strict";var e,t,n={},r="querySelector"in document&&"addEventListener"in root&&"classList"in document.createElement("_"),o={selector:"[data-nav-toggle]",toggleActiveClass:"active",navActiveClass:"active",initClass:"js-astro",callback:function(){}},a=function(){var e={},t=!1,n=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var o=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t&&"[object Object]"===Object.prototype.toString.call(n[r])?e[r]=buoy.extend(!0,e[r],n[r]):e[r]=n[r])};n<r;n++){var a=arguments[n];o(a)}return e};n.toggleNav=function(e,t,n,r){var l=a(l||o,n||{}),i=document.querySelectorAll(t);e.classList.toggle(l.toggleActiveClass);for(var s=i.length-1;s>=0;s--)i[s].classList.toggle(l.navActiveClass);l.callback(e,t)};var l=function(t){var r=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(t.target,e.selector);r&&("a"===r.tagName.toLowerCase()&&t.preventDefault(),n.toggleNav(r,r.getAttribute("data-nav-toggle"),e))};n.destroy=function(){e&&(t.classList.remove(e.initClass),document.removeEventListener("click",l,!1),e=null)},n.init=function(i){r&&(n.destroy(),e=a(o,i||{}),(t=document.querySelector("#app")).classList.add(e.initClass),document.addEventListener("click",l,!1))};var i="querySelector"in document&&"addEventListener"in window&&"closest"in window.Element.prototype,s={restrictToPages:"docs",langs:null,langDefault:null,langsNav:"better-docs-nav",wideLayout:!0,wideLayoutBg:!0,initClass:"better-docs",wideLayoutClass:"better-docs-wide",wideLayoutBgClass:"better-docs-wide-bg",contentClassSuffix:"-content"},c={selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com"]},u=[".fluidvids {","width: 100%; max-width: 100%; position: relative;","}",".fluidvids-item {","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;","}"].join(""),d=document.head||document.getElementsByTagName("head")[0];function f(e){return new RegExp("^(https?:)?//(?:"+c.players.join("|")+").*$","i").test(e)}function p(e){if((f(e.src)||f(e.data))&&!e.getAttribute("data-fluidvids")){var t,n,r=document.createElement("div");e.parentNode.insertBefore(r,e),e.className+=(e.className?" ":"")+"fluidvids-item",e.setAttribute("data-fluidvids","loaded"),r.className+="fluidvids",r.style.paddingTop=(t=e.height,n=e.width,parseInt(t,10)/parseInt(n,10)*100+"%"),r.appendChild(e)}}c.render=function(){for(var e=document.querySelectorAll(c.selector.join()),t=e.length;t--;)p(e[t])},c.init=function(e){for(var t in e)c[t]=e[t];c.render(),function(){if(!document.querySelector("#fluid-vids-styles")){var e=document.createElement("div");e.innerHTML='<p>x</p><style id="fluid-vids-styles">'+u+"</style>",d.appendChild(e.childNodes[1])}}()};window.addEventListener("portalBeforeRender",(function(){if(window.mashery.content.main&&"string"==typeof window.mashery.content.main){var e=document.createElement("div");e.innerHTML=window.mashery.content.main;var t=e.querySelectorAll('pre[class*="brush:"]');t.forEach((function(e){var t=/brush: (.*?);/.exec(e.className);if(t&&"[object Array]"===Object.prototype.toString.call(t)&&!(t.length<2)){var n=function(e){var t="";return"bash"===e&&(t="lang-bash"),"csharp"===e&&(t="lang-clike"),"cpp"===e&&(t="lang-clike"),"css"===e&&(t="lang-css"),"java"===e&&(t="lang-java"),"jscript"===e&&(t="lang-javascript"),"php"===e&&(t="lang-php"),"python"===e&&(t="lang-python"),"ruby"===e&&(t="lang-ruby"),"xml"===e&&(t="lang-markup"),t}(t[1]);e.classList.add(n)}})),window.mashery.content.main=e.innerHTML}}),!1),window.addEventListener("portalBeforeRender",(function(){if(window.mashery.content.main&&"string"==typeof window.mashery.content.main){var e=document.createElement("div");e.innerHTML=window.mashery.content.main;var t=e.querySelectorAll("table");t.forEach((function(e){var t=e.querySelector("thead");if(!t){var n=e.querySelector("tr"),r=function(e){for(;e&&e!==document&&1===e.nodeType;e=e.parentNode)if("tbody"===e.tagName.toLowerCase())return e;return null}(n);n&&r&&((t=document.createElement("thead")).innerHTML="<tr>"+n.innerHTML+"</tr>",r.parentNode.insertBefore(t,r),n.parentNode.removeChild(n))}})),window.mashery.content.main=e.innerHTML}}),!1),window.astro=n,window.BetterDocs=function(e,t){var n,r,o,a={};a.toggleLang=function(e){var t=new RegExp(e),r=n.langs.filter((function(e){return t.test(e.selector)}))[0],o=r.selector.split(",")[0].trim();if(r&&r.selector){var a=r.selector.split(",").reduce((function(e,t){return e.push("pre.lang-"+t.trim()),e.push("pre.language-"+t.trim()),e}),[]),l=document.querySelectorAll('[class*="lang-"].active, [class*="language-"].active'),i=document.querySelectorAll(a.join(",")),s=document.querySelectorAll("."+n.langsNav+" select");l.forEach((function(e){e.classList.remove("active")})),i.forEach((function(e){e.classList.add("active")})),s.forEach((function(e){e.value=o}))}};var l=function(e){e.target.closest("."+n.langsNav+" select")&&a.toggleLang(e.target.value)};return a.destroy=function(){if(n){document.removeEventListener("click",l,!1),o.classList.remove(n.initClass),o.classList.remove(n.wideLayoutClass),o.classList.remove(n.wideLayoutBgClass),r&&(r.classList.remove(n.initClass+n.contentClassSuffix),r.classList.remove(n.wideLayoutClass+n.contentClassSuffix));var e=document.querySelector("#better-docs-lang-styles");e&&e.remove(),n=null,r=null}},a.init=function(t){if(i&&(n=function(){for(var e={},t=0,n=arguments.length,r=function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};t<n;t++){r(arguments[t])}return e}(s,t||{}),function(){if(n.restrictToPages){if("[object Array]"!==Object.prototype.toString.call(n.restrictToPages)){var e=n.restrictToPages;n.restrictToPages=[],n.restrictToPages.push(e)}if(-1===n.restrictToPages.indexOf(window.mashery.contentType)&&-1===n.restrictToPages.indexOf(window.mashery.contentId))return!1}return!0}()&&(r=document.querySelector(e))&&(o=document.querySelector("#app")))){o.classList.add(n.initClass),r.classList.add(n.initClass+n.contentClassSuffix),n.wideLayout&&(o.classList.add(n.wideLayoutClass),r.classList.add(n.wideLayoutClass+n.contentClassSuffix),n.wideLayoutBg&&o.classList.add(n.wideLayoutBgClass)),function(e,t){var n=document.querySelectorAll(t+" pre code"),r=new RegExp(e.langDefault),o=e.langs.filter((function(e){return r.test(e.selector)}))[0],a=document.createElement("div");a.className=e.langsNav,a.innerHTML='<label class="screen-reader">Select your preferred programming language</label><select>'+e.langs.map((function(e,t){return'<option value="'+e.selector.split(",")[0].trim()+'" '+(r.test(e.selector)?'selected="selected"':"")+">"+e.title+"</option>"})).join("")+"</select>",n.forEach((function(e,t){var n=e.parentNode;if(!n.previousElementSibling.matches("pre")){var r=a.cloneNode(!0);r.querySelector("select").id="lang-toggle-"+t,r.querySelector("label").setAttribute("for","lang-toggle-"+t),n.parentNode.insertBefore(r,n)}o.selector.split(",").forEach((function(t){e.matches(".lang-"+t.trim()+", .language-"+t.trim())&&n.classList.add("active")}))}))}(n,e),n.langs&&function(e){if(!document.querySelector("#better-docs-lang-styles")){var t=document.querySelector("script"),n=document.createElement("style"),r=[];e.langs.forEach((function(t){t.selector.split(",").forEach((function(t){r.push("."+e.initClass+e.contentClassSuffix+" pre.lang-"+t.trim()),r.push("."+e.initClass+e.contentClassSuffix+" pre.language-"+t.trim())}))})),n.id="better-docs-lang-styles",n.innerHTML=r.join(",")+"{display:none;visibility:hidden;}"+r.join(".active,")+".active{display:block;visibility:visible;}",t.before(n)}}(n);var o=document.querySelector("#app");o&&o.addEventListener("change",l,!1)}},a.init(t),a},window.docsNavCollapse=function(e){var t,n={selector:"#nav-docs",className:"docs-nav-dropdown",overview:"Overview"},r=function(e){Array.prototype.forEach.call(e,(function(e){var n=e.closest("li"),o=n.querySelector("a"),a=n.classList.contains("active")?" open":"";n.innerHTML='<details class="'+t.className+'"'+a+"><summary>"+o.textContent+'</summary><ul><li class="'+n.className+'"><a href="'+o.href+'">'+t.overview+"</a></li>"+e.innerHTML+"</ul></details>";var l=n.querySelectorAll("ul > li > ul");r(l)}))};!function(){t=function(){var e={};return Array.prototype.forEach.call(arguments,(function(t){for(var n in t){if(!t.hasOwnProperty(n))return;e[n]=t[n]}})),e}(n,e||{});var o=document.querySelectorAll(t.selector+" ul > li > ul");o.length<1||r(o)}()},window.dropdown=function(e,t,n){var r=document.querySelector("#nav-primary-list"),o=function(e){var t,n;e.target.open&&(t=e.target,n=r.querySelectorAll(".nav-dropdown[open]"),Array.prototype.forEach.call(n,(function(e){e!==t&&e.removeAttribute("open")})))};!t||"[object Array]"!==Object.prototype.toString.call(t)||t.length<1||(!function(){var o=r.querySelector('a[href*="'+e+'"]');if(o){var a=o.closest("li");if(a){var l="";n&&(l='<li><a href="'+o.href+'">'+n+"</a></li>"),a.innerHTML='<details class="nav-dropdown"><summary>'+o.textContent+"</summary><ul>"+l+t.map((function(e){return'<li><a href="'+e.url+'">'+e.title+"</a></li>"})).join("")+"</ul></details>"}}}(),m$.dropdown||(r.addEventListener("toggle",o,!0),m$.dropdown=!0))},window.fluidvids=c,window.latestBlogPosts=function(e){var t={selector:"#latest-blog-posts",listClass:"latest-blog-posts-list",count:5,excerptLength:250,listType:"ul",template:function(e){return'<li><strong><a href="'+e.url+'">'+e.title+'</a></strong><br><span class="text-muted">By '+e.author+" on "+e.published+"</span><br>"+e.excerpt+"...</li>"}};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);var r=document.querySelector(t.selector);r&&atomic.ajax({url:"/blog",responseType:"document"}).success((function(e){var n="",o=e.querySelectorAll("#main .section");o.length>0?o.forEach((function(e,r){if(!(r>=t.count)){var o=e.querySelector("h2 a"),a=e.querySelector(".user-reference"),l=document.createElement("div");l.innerHTML=m$.convertMarkdown(e.querySelector(".section-body").innerHTML),postData={author:a.innerHTML.split("(")[0],authorUrl:null,excerpt:l.textContent.slice(0,parseInt(t.excerptLength,10)),published:e.querySelector(".timestamp abbr").getAttribute("title"),title:o.innerHTML,url:o.getAttribute("href")},n+=t.template(postData)}})):n="<li><em>No blog posts yet.</em></li>",r.innerHTML="<"+t.listType+' class="'+t.listClass+'">'+n+"</"+t.listType+">"})).error((function(){r.innerHTML=""}))}}();
